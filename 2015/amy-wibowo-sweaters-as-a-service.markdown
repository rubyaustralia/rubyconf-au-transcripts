Hi.  My name is Amy Wibowo and I'm a software engineer at Air B & B. Today I am going to talk to you about knitting.  Before you get up because you think you are in the wrong conference, I assure you it is about software problem solving and hacking.  Our stories start with inspiration and here is an unexpected inspiration.  A few years ago, Kukodu published about add ons that didn't make the cut, you heard about the ones who did make the cut, a
baseball, a golf club and shooting games but Nintendo was seriously contemplating making a knitting add on.  Here it is.  I am not sure if you can read it but on the bottom it says, "Why
needle the competition".  So just like Mario, you get your pictures on a remittance.  Most of the
comments left on the articles were along the lines of "LOL, you can totally see why it didn't make it to production", or "what were they thinking?"  But I had a different reaction.  I was so disappointed.  I would totally use one all the time if I had one and I tried to think how I would
make it a reality.  So I did research.  Did they make prototypes I could get my hands on?  Did
other companies make electronic machines?  In the 1980s, there was a line of electronic knitting machines were made but they disappointed.  It was then my dream was born to get my hands on
it and make something like the knitting machine add on that never was.  There was a machine for
sale on Craig's list.  It was old and parts were missing but it was the start of something, the start of my dream. To reiterate the dream again in cartoon form, the dream was to have a knitting machine to take images from a computer to create sweaters.  So now that I have gotten hold of one of these machines, my first thing I needed to do was to learn how to use the damn thing, because just figuring out how to use the basic functionality, let alone the machine, is daunting. There are 200 needles moving in and out and you thread as many needles as you want it to be wide.  There were mechanisms for two colours of yarn and alternating it makes patterns.  This is what using a knitting machine feels like.  There are so many buttons and moving parts and the machine comes with a really thick manual with lots of unfamiliar terms.  It totally felt like operating the control station of a starship.  I was worried if I pressed the wrong thing that this would happen, or at least I would break some of the needles on the machine and have no idea how to fix it.  Luckily, I had a team of people to help me face the knitting machine that was both fearless and inventive.  This is the team of Air B & B engineers that helped hack a machine.  Air B & B hosts hackers, for the entire team, both designers and engineers.  What does knitting have to do with travelling? I asked the hackathon organiser if it was a valid project to work on and they told me the spirit of the hackathon is about creating things that are useful to people and this
sounds awesome and useful.  So I was approved to work on hacking a knitting machine.  I had no idea if anyone was interested so when I pitched it I was surprised there was so much interest.
The people who came up to be on my team were as excited or more excited than I was.  There were so many kinds of engineers that came to me, IOS, performance, data, infrastructure, and
this is all to say that we were a bunch of engineers who knew nothing about knitting or knitting machines.  But my knitting team-mates were super amazing and excited and it was one of the
best and most productive teams I have worked on.  We had zero ego.  None of us knew how to knit or machine knit so it was a wild adventure we were in on together.  The reason we had to be
fearless is the machine was daunting and no idea how to solve it.  Inventive, because it was

technology from the '80s and the machine was missing some of its parts and we had to MacGyver replacement parts.  The good thing about being an engineer, you can apply problem-solving
skills to almost anything.  This is an example of a problem that needed to be solved by being resourceful and inventive.  It seemed like we were encountering problems on every step of our
journey, even before turning the machine on, just preparing the yarn because when you buy it is for hand knitting.  It has to be wound into a spool from which it will unwind neatly and feed into
the machine at an even rate.  We came up with a contraption to feed it in but we had to MacGyver a solution from a coffee cup.  This is day one.  So after we learned to set up the knitting machine and successfully knit plain rows of plain colour.  The next step was to learn
how to use the machine to knit the built-in patterns, since you can feed up to two dozen spools of yarn into the machine, it has patterns built into its memory.  Even though this was something
already built into the machine and not any additional functionality we were adding, there was twice as much yarn, meaning twice as much yarn to get tangled, and it required reading an
additional 20 pages of the manual.  It seemed like the next level up in machine knitting.  Just to show you how nontrivial, on the left is our first attempt to use a built-in pattern, which looked
super ugly, skipping needles.  A few hours later we successfully knitted the polka dots on the right.  I wish there was a photo to show you our elated faces.  Another problem, when we would knit patterns we would notice the yarn would get stuck more often than when knitting solid
colours.  We would try different yarns and different settings and write down the results and form hypothesis for what types of yarns we should try next and what settings.  Eventually we learned
the right thickness that we needed to use and also observe animal yarns had natural oils that kept
them from getting tangled in the machine so much.  But we had not achieved our dream yet, as far as we could tell the intender user was a grandmother from the '80s, so the built-in patterns
were bows and teddy bears.  We still wanted to figure out how to send the machine our own
images, which is step three of our goal.  This would be split into several parts.  Because it is from the 1980s, it takes additional patterns via a floppy drive.  You can buy pattern on floppy discs.
We wanted to emulate a floppy drive and software and then we needed to build a custom cable, a serial cable to connect the floppy drive to the machine, but instead now connect our fake floppy
drive to the machine, USB to knitting machine port.  We had to make it custom.  Thankfully we found documentation for the machine and also used a library that emulated a floppy drive.  We wanted to convert our input images into low-viz bit maps, which is the file format the machine
takes. We wanted to include a conversion algorithm that supported differing and we were lucky to find it.  We had the machine read as if it was from a floppy drive.  Here is a first pattern.  Note
the dithering, it is hard to read but it says "Wow, my god.  What fairile!", which is a type of
knitting stage.  And here is a grumpy cat.  (APPLAUSE) So we were having entirely too much fun with this, but we didn't want sending pictures to the machine to be limited to just us who had
hacked on it and studied the manual, we wanted anyone to print yarn and share the fun we were
having.  The next stage was to make it available on the web.  It would be a super simple
interface, upload and it would give you instructions to start knitting your pattern.  Here is a video of the whole thing in action. (APPLAUSE) So this is a close-up of the input image and an output
in case it was too small to see in the video.  Now we can look at the code that made this possible.
It is in Ruby and Sinatra and very simple.  We require Sinatra in Hamil and wrapped the libraries that convert images to 2-bit maps and the floppy disc emulator.  When the user presses the
upload button we save the user's file, use the processing library to convert the image to a 1-bit
map and start the floppy drive.  In the web browser we display the buttons they should be pressing on the knitting machine.  This is the view from the upload forum.  Things we learned from this adventure: First, we gained respect for our grandmothers and anyone who knits because that shit is hard.  I thought my job was hard, but optimising database queries ain't got nothing on this.  Teams work really well when everyone operates with zero ego.  Also, it is really enjoyable to apply Ruby to any of your hobbies, no matter how unrelated they might seem.  I challenge you to find a hobby less related than knitting.  I would have never guessed I would be making off by one errors and knitting too.  It feels great to to take up something you know nothing about. Learning something brand new and very different from what you do day to day is humbling, challenging and refreshing.  It remind you what it is like to be a beginner which is important to gain empathy with new programmers you might work with or mentor.  There is a lot to explore
in the space of computing and knitting.  The amazing thing about giving this talk at conferences, people talk to me about more ideas how to take it further.  On the web interface access, it would be great to make an interface where you can draw an image and send that to the machine without using an already existing image and previews.  Another goal I had was learning how to use the machine itself better to knit whole garments like socks with sweaters and socks with toe.  A programmer told me about a knitting machine school in Seattle where they teach you, so last week I signed up for a intensive knitting program and I learned to make all the pieces of the

sweater I'm wearing right now.  I use the knitting machine hack to adorn the sweater.  So sharing what you have worked on with a community and audience just makes your project even better.
On the hardware hacking access, it would be amazing to figure out how to automate an automatic robotic arm that moves back and forth, it would save me from having to do that.  I have been
reading about hacks that replace the whole board, which would be fun to control more of the knitting machine interface, for example, showing you how much progress you have made and
how much you have left to knit.  I would like to talk to you about any ideas you have if you have ideas on hardware hacking.  So thank you for listening and having me here.
